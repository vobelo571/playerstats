# (Админ-Тулз FLX PROJECT 2.0)

## Список команд

Базовая команда: `ps` (алиасы: `playerstats`, `stats`)

### `ps info <steamid/ник>`
Показывает полную статистику игрока
- Поддерживает поиск по SteamID или никнейму
- Пример: `ps info 76561198012345678` или `ps info PlayerName`

### `ps bans <steamid/ник>`
Показывает историю санкций игрока (баны и предупреждения)
- Поддерживает поиск по SteamID или никнейму
- Компактный формат: `[ТИП][ДЛИТЕЛЬНОСТЬ] ДАТА - ПРИЧИНА (АДМИН) [осталось: X]`
- Пример: `[BAN][24h] 2024-01-15 14:30:00 - Нарушение правил (Admin) [осталось: 5ч 14м]`

### `ps banstatus <steamid/ник>`
Показывает статус активного бана и сколько времени осталось
- Пример: `ps banstatus PlayerName`

### `ps warn <steamid/ник/IP> <причина>`
Добавляет предупреждение игроку
- Поддерживает поиск по SteamID, никнейму или IP
- Компактный ответ: `WARN: PlayerName - Причина`
- Пример: `ps warn PlayerName Нарушение правил`

### `ps ban <steamid/ник/IP> <причина> <длительность>`
Добавляет бан игроку
- Поддерживает поиск по SteamID, никнейму или IP
- Компактный ответ: `BAN: PlayerName [24h] - Причина`
- Пример: `ps ban PlayerName Нарушение правил 24h`

Форматы длительности: `30m`, `24h`, `7d`, `2w`, `3600s`, без суффикса — минуты. Перманентно: `perm`.

### `ps find <ник/IP>`
Находит игрока по никнейму или IP
- Показывает основную информацию о найденном игроке
- Пример: `ps find PlayerName` или `ps find 192.168.1.1`

### `ps unban <steamid/ник> [причина]`
Снимает активные баны у игрока в базе и добавляет запись об анбане в историю.
 - Для онлайн-игроков серверный бан снимается автоматически при следующей попытке входа (бан не продлевается).
 - Пример: `ps unban PlayerName Ошибочный бан`

### `ps help`
Показывает список доступных подкоманд и краткое описание каждой

## Особенности

### Поиск игроков
- **SteamID**: Точный поиск по SteamID (начинается с 7656119)
- **Никнейм**: Сначала точное совпадение, затем частичное
- **IP**: Точное совпадение по IP адресу

### Единая система санкций
- **Предупреждения (WARN)**: Неактивные записи, увеличивают счетчик предупреждений
- **Баны (BAN)**: Активные записи с указанием длительности
- **Компактный формат**: Все санкции в одной истории с кратким выводом
 - **Офлайн-бан**: Если игрок офлайн, бан применяется при его следующем входе автоматически
 - **Авто-бан за 5 WARN**: При достижении 5 предупреждений игрок получает бан на 72 часа автоматически

### Статистика игроков
- Время игры, смерти, убийства, эвакуации
- Предупреждения, открытые двери, прыжки
- Убийства игроков и SCP (через LabAPI)

## Примеры использования

```
# Показать статистику игрока
ps info PlayerName

# Показать историю санкций
ps bans PlayerName

# Выдать предупреждение
ps warn PlayerName Нарушение правил

# Забанить игрока
ps ban PlayerName Нарушение правил 24h

# Найти игрока
ps find PlayerName

# Справка по командам
ps help
```
